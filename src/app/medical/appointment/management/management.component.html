<div class="page-wrapper">
    <div class="content">
    
        <!-- Page Header -->
        <div class="page-header">
            <div class="row">
                <div class="col-sm-12">
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a [routerLink]="routes.patientsList">Appointment </a></li>
                        <li class="breadcrumb-item"><i class="feather icon-chevron-right"></i></li>
                        <li class="breadcrumb-item active">Manage Appointment</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- /Page Header -->
        <div class="row">
            <div class="col-sm-12">
                <div class="card">
                    <div class="card-body">
                            <div class="row align-items-center">
                                <div class="col-12">
                                    <div class="form-heading">
                                        <h4>Manage Appointment #{{appointement_id}}</h4>
                                    </div>
                                </div>
                                
                            
                            <div class="row align-items-center py-4">
                                <div class="col-12">
                                    <div class="form-heading">
                                        <h4>Patient Data</h4>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6 col-xl-6">
                                    <div class="form-group local-forms">
                                        <label >DNI <span class="login-danger">*</span></label>
                                        <input disabled class="form-control" [(ngModel)]="dni" name="dni" type="dni" placeholder="" >
                                    </div>
                                </div>
                                <div class="col-12 col-md-6 col-xl-6">  
                                    <div class="form-group local-forms">
                                        <label >First Name <span class="login-danger">*</span></label>
                                        <input disabled class="form-control" [(ngModel)]="name" name="name" type="text" placeholder="" >
                                    </div>
                                </div>
                                <div class="col-12 col-md-6 col-xl-6">
                                    <div class="form-group local-forms">
                                        <label >Surname <span class="login-danger">*</span></label>
                                        <input disabled class="form-control" [(ngModel)]="surname" name="surname" type="text" placeholder="" >
                                    </div>
                                </div>                             
                                <div class="col-12 col-md-6 col-xl-6">
                                    <div class="form-group local-forms">
                                        <label >Mobile <span class="login-danger">*</span></label>
                                        <input disabled class="form-control" [(ngModel)]="mobile" name="mobile" type="number" placeholder="" >
                                    </div>
                                </div>
                                <div class="col-12 col-md-6 col-xl-6">  
                                    <div class="form-group local-forms">
                                        <label> Name Companion <span class="login-danger">*</span></label>
                                        <input disabled class="form-control" [(ngModel)]="name_companion" name="name_companion" type="text" placeholder="" >
                                    </div>
                                </div>
                                <div class="col-12 col-md-6 col-xl-6">
                                    <div class="form-group local-forms">
                                        <label >Surname Companion<span class="login-danger">*</span></label>
                                        <input disabled class="form-control" [(ngModel)]="surname_companion" name="surname_companion" type="text" placeholder="" >
                                    </div>
                                </div>
                            </div>

                            <div class="row align-items-center py-4">
                                <div class="col-12">
                                    <div class="form-heading">
                                        <h4>Doctor Data</h4>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-12">
                                    <div class="form-group local-forms">
                                        <label>Diagnostic  <span class="login-danger">*</span></label>
                                        <textarea class="form-control" [(ngModel)]="description" name="description" rows="3" cols="30"></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="row align-items-center">
                                <div class="col-6">
                                    <div class="row">
                                        <div class="col-12 mb-3">
                                            <button class="btn btn-primary btn-sm" (click)="addMedication()">+</button>&nbsp;
                                            <button class="btn btn-danger btn-sm">-</button>
                                        </div>
                                        <div class="col-12">

                                        </div>
                                    </div>
                                </div>
                                <div class="row col-12">
                                    <div class="col-6">
                                        <div class="col-12 ">  
                                                <div class="form-group local-forms">
                                                    <label >Medication name  <span class="login-danger">*</span></label>
                                                    <input  class="form-control" [(ngModel)]="name_medication" name="name_medication" type="text" placeholder="" >
                                                </div>
                                        </div>
                                        <div class="col-12 ">
                                                <div class="form-group local-forms">
                                                    <label >Use <span class="login-danger">*</span></label>
                                                    <input  class="form-control" [(ngModel)]="use_medication" name="use_medication" type="text" placeholder="" >
                                                </div>
                                        </div>    
                                    </div>
                                    <div class="col-6">
                                        <div class="table-responsive">
                                            <table class="table mb-0">
                                                <thead>
                                                    <tr>
                                                        <th>Description</th>
                                                        <th>Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <ng-container *ngFor="let item of medical; let i = index;">
                                                        <tr class="align-items-center">
                                                            <td>
                                                                MEDICATION: {{item.name}}
                                                                <br>
                                                                USE: {{item.use}}
                                                            </td>
                                                            <td><button class="btn btn-danger bt-sm" (click)="deleteMedication(i)">X</button></td>
                                                        </tr>
                                                    </ng-container>
                                                    
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>        
                                </div>
                            </div>

                            <div class="row align-items-center mt-4">

                                <div class="col-12">
                                    <div class="doctor-submit text-end">
                                        <button type="button" (click)="save()" class="btn btn-primary submit-form me-2">Guardar</button>
                                    </div>
                                </div>

                                <div class="col-md-12 my-4" *ngIf="error_message != ''">
                                    <div class="alert alert-warning alert-dismissible fade show" role="alert" >
                                        <strong>Error!</strong> {{ error_message }}
                                        <button (click)="cleanMessage()" type="button" class="btn-close" aria-label="Close">
                                            <span aria-hidden="true"> </span>
                                        </button>
                                      </div>
                                </div>
                                <div class="col-md-12 my-4" *ngIf="success_message != ''">
                                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                                        <strong>Bien!</strong> {{ success_message }}
                                        <button (click)="cleanMessage()" type="button" class="btn-close" aria-label="Close">
                                            <span aria-hidden="true"> </span>
                                        </button>
                                    </div>
                                </div>
                             
                            </div>
                    </div>
                </div>
                
                
               
            </div>					
        </div>
    </div>
</div>
 